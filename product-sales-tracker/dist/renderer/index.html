<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Sales Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Defer non-critical scripts -->
    <script defer src="../../node_modules/chart.js/dist/chart.umd.js"></script>
    <script>
        // Performance monitoring
        if (window.performance && window.performance.mark) {
            window.performance.mark('pageLoadStart');
        }
        
        // Theme Toggle Functionality - Enhanced with smooth transitions
        function initTheme() {
            try {
                // First check for appSettings which contains the theme preference
                const settings = localStorage.getItem('appSettings');
                let theme = 'light';
                
                if (settings) {
                    const parsed = JSON.parse(settings);
                    theme = parsed.theme || 'light';
                    
                    // Handle auto theme
                    if (theme === 'auto') {
                        theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
                    }
                }
                
                // Apply theme
                document.documentElement.setAttribute('data-theme', theme);
                updateThemeIcon(theme);
                // Add transition class for smooth theme switching
                document.documentElement.classList.add('theme-transition');
            } catch (error) {
                console.error('Failed to initialize theme:', error);
                // Default to light theme on error
                document.documentElement.setAttribute('data-theme', 'light');
                updateThemeIcon('light');
                document.documentElement.classList.add('theme-transition');
            }
        }

        function updateThemeIcon(theme) {
            const themeToggleBtn = document.getElementById('themeToggleBtn');
            if (!themeToggleBtn) return;
            
            const sunIcon = document.getElementById('sunIcon');
            const moonIcon = document.getElementById('moonIcon');
            
            if (theme === 'dark') {
                sunIcon.style.display = 'none';
                moonIcon.style.display = 'block';
                themeToggleBtn.title = 'Switch to light mode';
            } else {
                sunIcon.style.display = 'block';
                moonIcon.style.display = 'none';
                themeToggleBtn.title = 'Switch to dark mode';
            }
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            // Add transition effect
            document.documentElement.classList.add('theme-transition');
            document.documentElement.setAttribute('data-theme', newTheme);
            
            // Update app settings
            try {
                const settings = localStorage.getItem('appSettings');
                if (settings) {
                    const parsed = JSON.parse(settings);
                    parsed.theme = newTheme;
                    localStorage.setItem('appSettings', JSON.stringify(parsed));
                }
            } catch (error) {
                console.error('Failed to update appSettings:', error);
            }
            
            updateThemeIcon(newTheme);
            
            // Remove transition class after animation completes
            setTimeout(() => {
                document.documentElement.classList.remove('theme-transition');
            }, 300);
        }

        // Modern Toast Notification System
        let toastContainer = null;

        function createToastContainer() {
            if (!toastContainer) {
                toastContainer = document.createElement('div');
                toastContainer.className = 'toast-container';
                document.body.appendChild(toastContainer);
            }
            return toastContainer;
        }

        // Get translated text (this will be replaced by the renderer when translations are loaded)
        function t(key, fallback) {
            // If we have the renderer translation function, use it
            if (typeof window.t === 'function') {
                return window.t(key, fallback);
            }
            
            // Otherwise use fallback translations
            const translations = {
                'notifications.success': 'Success',
                'notifications.error': 'Error',
                'notifications.warning': 'Warning',
                'notifications.info': 'Info'
            };
            return translations[key] || fallback || key;
        }

        function showNotification(title, message, type = 'info', duration = 4000) {
            const container = createToastContainer();
            
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            // Translate the title if it matches a notification type
            let translatedTitle = title;
            if (title === 'Success' || title === 'Error' || title === 'Warning' || title === 'Info') {
                const translationKey = `notifications.${title.toLowerCase()}`;
                translatedTitle = t(translationKey, title);
            }
            
            const icons = {
                success: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>',
                error: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>',
                warning: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',
                info: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>'
            };
            
            toast.innerHTML = `
                <div class="toast-icon">${icons[type] || icons.info}</div>
                <div class="toast-content">
                    <div class="toast-title">${translatedTitle}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <button class="toast-close" onclick="this.parentElement.remove()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            `;
            
            container.appendChild(toast);
            
            // Trigger animation
            setTimeout(() => toast.classList.add('show'), 10);
            
            // Auto remove
            if (duration > 0) {
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => toast.remove(), 300);
                }, duration);
            }
            
            return toast;
        }

        // Convenience methods
        window.showSuccess = (title, message, duration) => showNotification(title, message, 'success', duration);
        window.showError = (title, message, duration) => showNotification(title, message, 'error', duration);
        window.showWarning = (title, message, duration) => showNotification(title, message, 'warning', duration);
        window.showInfo = (title, message, duration) => showNotification(title, message, 'info', duration);

        // Navigation will be handled by renderer.ts
        // Theme toggle will be handled by renderer.ts
    </script>
</head>
<body>
    <!-- Main Application -->
    <div id="app" class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <h1 class="app-title">
                    <svg width="48" height="48" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="accentGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        
                        <!-- Rounded square background -->
                        <rect x="10" y="10" width="100" height="100" rx="28" fill="url(#logoGradient)" opacity="0.15"/>
                        
                        <!-- Letter D with modern style -->
                        <path d="M 30 35 L 30 85 L 55 85 C 67 85 75 77 75 60 C 75 43 67 35 55 35 Z M 38 43 L 53 43 C 62 43 67 48 67 60 C 67 72 62 77 53 77 L 38 77 Z" 
                              fill="url(#logoGradient)" stroke="none"/>
                        
                        <!-- Modern chart bars with gradient -->
                        <rect x="82" y="60" width="7" height="20" rx="3.5" fill="url(#accentGradient)"/>
                        <rect x="92" y="48" width="7" height="32" rx="3.5" fill="url(#accentGradient)"/>
                        <rect x="102" y="36" width="7" height="44" rx="3.5" fill="url(#accentGradient)"/>
                        
                        <!-- Sparkle effect -->
                        <circle cx="88" cy="28" r="3" fill="#fbbf24"/>
                        <path d="M 88 22 L 88 34 M 82 28 L 94 28" stroke="#fbbf24" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span>Daily Sales Tracker</span>
                </h1>
                <div class="workbook-status-container">
                    <span id="workbookPath" class="workbook-path" data-translate="common.noWorkbook">No workbook loaded</span>
                </div>
            </div>
            <div class="header-right">
                <button id="themeToggleBtn" class="btn-icon" data-translate-title="common.toggleTheme" title="Toggle theme">
                    <svg id="sunIcon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="4"/>
                        <path d="M12 2v2"/>
                        <path d="M12 20v2"/>
                        <path d="m4.93 4.93 1.41 1.41"/>
                        <path d="m17.66 17.66 1.41 1.41"/>
                        <path d="M2 12h2"/>
                        <path d="M20 12h2"/>
                        <path d="m6.34 17.66-1.41 1.41"/>
                        <path d="m19.07 4.93-1.41 1.41"/>
                    </svg>
                    <svg id="moonIcon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
                        <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/>
                    </svg>
                </button>
                <button id="settingsHeaderBtn" class="btn-icon" data-translate-title="navigation.settings">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
                        <circle cx="12" cy="12" r="3"/>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="app-nav">
            <div class="nav-group">
                <button class="nav-link active" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/>
                        <rect x="14" y="3" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/>
                        <rect x="3" y="14" width="7" height="7"/>
                    </svg>
                    <span data-translate="navigation.dashboard">Dashboard</span>
                </button>
                <button class="nav-link" data-view="sales">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"/>
                        <circle cx="20" cy="21" r="1"/>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                    </svg>
                    <span data-translate="navigation.sales">Sales</span>
                </button>
                <button class="nav-link" data-view="reports">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="20" x2="18" y2="10"/>
                        <line x1="12" y1="20" x2="12" y2="4"/>
                        <line x1="6" y1="20" x2="6" y2="14"/>
                    </svg>
                    <span data-translate="navigation.reports">Reports</span>
                </button>
                <!-- Hidden settings tab - accessible only through header button -->
                <button class="nav-link hidden" data-view="settings">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/>
                    </svg>
                    <span data-translate="navigation.settings">Settings</span>
                </button>
            </div>
            
            <!-- Removed theme toggle from navigation - now only in header -->
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard View -->
            <div id="dashboard-view" class="view" style="display: block;">
                <div class="dashboard-section">
                    <div class="section-header">
                        <h3 data-translate="dashboard.title">Dashboard Overview</h3>
                        <p class="section-subtitle" data-translate="dashboard.subtitle">Key metrics and statistics</p>
                    </div>
                    
                    <div class="kpi-grid">
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <div class="kpi-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="8" cy="21" r="1"/>
                                        <circle cx="19" cy="21" r="1"/>
                                        <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="kpi-content">
                                <h4 data-translate="dashboard.totalSales">Total Sales</h4>
                                <p class="kpi-value" id="totalSales">$0.00</p>
                            </div>
                        </div>
                        
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <div class="kpi-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M3 3v18h18"/>
                                        <path d="m19 9-5 5-4-4-3 3"/>
                                        <circle cx="18" cy="8" r="2"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="kpi-content">
                                <h4 data-translate="dashboard.totalProfit">Total Profit</h4>
                                <p class="kpi-value" id="totalProfit">$0.00</p>
                            </div>
                        </div>
                        
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <div class="kpi-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="m7.5 4.27 9 5.15"/>
                                        <path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/>
                                        <path d="m3.3 7 8.7 5 8.7-5"/>
                                        <path d="M12 22V12"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="kpi-content">
                                <h4 data-translate="dashboard.salesCount">Sales Count</h4>
                                <p class="kpi-value" id="totalSalesCount">0</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-section">
                    <div class="section-header">
                        <h3 data-translate="dashboard.recentSales">Recent Sales</h3>
                        <p class="section-subtitle" data-translate="dashboard.latestTransactions">Latest transactions</p>
                    </div>
                    
                    <div class="table-container">
                        <table class="data-table" id="recentSalesTable">
                            <thead>
                                <tr>
                                    <th data-translate="sales.saleId">Sale ID</th>
                                    <th data-translate="sales.date">Date</th>
                                    <th data-translate="sales.product">Product</th>
                                    <th data-translate="sales.quantity">Quantity</th>
                                    <th data-translate="sales.totalAmount">Amount</th>
                                    <th data-translate="sales.profit">Profit</th>
                                </tr>
                            </thead>
                            <tbody id="recentSalesBody">
                                <tr>
                                    <td colspan="6" class="empty-state" data-translate="sales.noSales">No sales yet</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Sales View -->
            <div id="sales-view" class="view" style="display: none;">
                <div class="section-header">
                    <h3 data-translate="sales.title">Sales Management</h3>
                    <p class="section-subtitle" data-translate="sales.subtitle">Record new sales transactions</p>
                </div>
                
                <div class="actions-bar">
                    <button id="addSaleBtn" class="btn btn-primary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="8" x2="12" y2="16"/>
                            <line x1="8" y1="12" x2="16" y2="12"/>
                        </svg>
                        <span data-translate="sales.newSale">New Sale</span>
                    </button>
                </div>
                
                <div class="table-container">
                    <table class="data-table" id="salesTable">
                        <thead>
                            <tr>
                                <th data-translate="sales.saleId">Sale ID</th>
                                <th data-translate="sales.date">Date</th>
                                <th data-translate="sales.product">Product</th>
                                <th data-translate="sales.quantity">Quantity</th>
                                <th data-translate="sales.unitPrice">Unit Price</th>
                                <th data-translate="sales.totalAmount">Total</th>
                                <th data-translate="sales.profit">Profit</th>
                                <th data-translate="common.actions">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="salesBody">
                            <tr>
                                <td colspan="8" class="empty-state" data-translate="sales.noSales">No sales yet</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Reports View -->
            <div id="reports-view" class="view" style="display: none;">
                <div class="section-header">
                    <h3 data-translate="reports.title">Daily Sales Report</h3>
                    <p class="section-subtitle" data-translate="reports.subtitle">View sales performance by day</p>
                </div>
                
                <div class="form-group">
                    <label for="reportDate" data-translate="reports.selectDate">Select Date:</label>
                    <input type="date" id="reportDate" class="form-control">
                </div>
                
                <div id="reportContent" class="report-content">
                    <div class="empty-state" data-translate="reports.selectDateMessage">Select a date to view the sales report</div>
                </div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="view" style="display: none;">
                <div class="section-header">
                    <h3 data-translate="settings.title">Application Settings</h3>
                    <p class="section-subtitle" data-translate="settings.subtitle">Configure your application preferences</p>
                </div>
                
                <div class="settings-grid">
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <h4 data-translate="settings.workbookManagement">Workbook Management</h4>
                        </div>
                        <div class="settings-card-body">
                            <div class="form-group">
                                <label data-translate="settings.currentWorkbook">Current Workbook:</label>
                                <div class="input-group">
                                    <input type="text" id="currentWorkbookPath" class="form-control" readonly>
                                    <button id="changeWorkbookBtn" class="btn btn-secondary" data-translate="settings.change">Change</button>
                                </div>
                            </div>
                            <div class="settings-button-group">
                                <button id="createWorkbookBtn" class="btn btn-primary" data-translate="settings.createNewWorkbook">Create New Workbook</button>
                                <button id="openWorkbookBtn" class="btn btn-secondary" data-translate="settings.openExistingWorkbook">Open Existing Workbook</button>
                                <button id="useDefaultWorkbookBtn" class="btn btn-secondary" data-translate="settings.useDefaultWorkbook">Use Default Workbook</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <h4 data-translate="settings.currencySettings">Currency Settings</h4>
                        </div>
                        <div class="settings-card-body">
                            <div class="form-group">
                                <label for="currencySelect" data-translate="settings.currency">Currency:</label>
                                <select id="currencySelect" class="form-control">
                                    <option value="USD" data-translate="currencies.USD">US Dollar (USD)</option>
                                    <option value="EUR" data-translate="currencies.EUR">Euro (EUR)</option>
                                    <option value="GBP" data-translate="currencies.GBP">British Pound (GBP)</option>
                                    <option value="JPY" data-translate="currencies.JPY">Japanese Yen (JPY)</option>
                                    <option value="CAD" data-translate="currencies.CAD">Canadian Dollar (CAD)</option>
                                    <option value="AUD" data-translate="currencies.AUD">Australian Dollar (AUD)</option>
                                    <option value="CHF" data-translate="currencies.CHF">Swiss Franc (CHF)</option>
                                    <option value="CNY" data-translate="currencies.CNY">Chinese Yuan (CNY)</option>
                                    <option value="INR" data-translate="currencies.INR">Indian Rupee (INR)</option>
                                    <option value="BRL" data-translate="currencies.BRL">Brazilian Real (BRL)</option>
                                    <option value="MXN" data-translate="currencies.MXN">Mexican Peso (MXN)</option>
                                    <option value="SGD" data-translate="currencies.SGD">Singapore Dollar (SGD)</option>
                                    <option value="DZD" data-translate="currencies.DZD">Algerian Dinar (DZD)</option>
                                    <option value="MAD" data-translate="currencies.MAD">Moroccan Dirham (MAD)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <h4 data-translate="settings.themeSettings">Theme Settings</h4>
                        </div>
                        <div class="settings-card-body">
                            <div class="form-group">
                                <label for="themeSelect" data-translate="settings.theme">Theme:</label>
                                <select id="themeSelect" class="form-control">
                                    <option value="light" data-translate="settings.light">Light</option>
                                    <option value="dark" data-translate="settings.dark">Dark</option>
                                    <option value="auto" data-translate="settings.auto">Auto (System)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <h4 data-translate="settings.languageSettings">Language Settings</h4>
                        </div>
                        <div class="settings-card-body">
                            <div class="form-group">
                                <label for="languageSelect" data-translate="settings.language">Language:</label>
                                <select id="languageSelect" class="form-control">
                                    <option value="en" data-translate="languages.english">English</option>
                                    <option value="fr" data-translate="languages.french">French</option>
                                    <option value="ar" data-translate="languages.arabic">Arabic</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Add Sale Modal -->
    <div id="addSaleModal" class="modal">
        <div class="modal-content modal-medium">
            <div class="modal-header">
                <h2 data-translate="sales.newSale">Record New Sale</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-form">
                <div class="form-group">
                    <label for="saleProduct" data-translate="sales.product">Product</label>
                    <input type="text" id="saleProduct" class="form-control" placeholder="Enter product name" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="buyPrice" data-translate="sales.buyPrice">Buy Price ($)</label>
                        <input type="number" id="buyPrice" class="form-control" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="saleUnitPrice" data-translate="sales.unitPrice">Sale Price ($)</label>
                        <input type="number" id="saleUnitPrice" class="form-control" min="0" step="0.01" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="saleQuantity" data-translate="sales.quantity">Quantity</label>
                        <input type="number" id="saleQuantity" class="form-control" min="1" value="1" required>
                    </div>
                    <div class="form-group">
                        <label for="saleDate" data-translate="sales.date">Date</label>
                        <input type="date" id="saleDate" class="form-control" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label data-translate="sales.totalAmount">Total Amount ($)</label>
                        <input type="number" id="saleTotal" class="form-control" readonly>
                    </div>
                    <div class="form-group">
                        <label data-translate="sales.profit">Profit ($)</label>
                        <input type="number" id="saleProfit" class="form-control" readonly>
                    </div>
                </div>
                <div class="form-group">
                    <label for="saleId" data-translate="sales.saleId">Sale ID</label>
                    <input type="text" id="saleId" class="form-control" required readonly>
                </div>
                <div class="modal-actions">
                    <button id="saveSaleBtn" class="btn btn-primary" data-translate="sales.recordSale">Record Sale</button>
                    <button class="btn btn-secondary modal-close-btn" data-translate="common.cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirm Delete Modal -->
    <div id="confirmDeleteModal" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2 data-translate="common.confirmDelete">Confirm Delete</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-form">
                <p data-translate="common.confirmDeleteMessage">Are you sure you want to delete this item? This action cannot be undone.</p>
                <input type="hidden" id="deleteItemType">
                <input type="hidden" id="deleteItemName">
                <div class="modal-actions">
                    <button id="confirmDeleteBtn" class="btn btn-danger" data-translate="common.delete">Delete</button>
                    <button class="btn btn-secondary modal-close-btn" data-translate="common.cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Renderer Script -->
    <script type="module" src="renderer/renderer.js"></script>
</body>
</html>